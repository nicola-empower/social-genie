<!-- ===================================================== -->
<!-- FILE: templates/blog.html                           -->
<!-- This version adds a "View" button to each blog post. -->
<!-- ===================================================== -->

{% extends "base.html" %}
{% block title %}Blog Genie - Social Genie{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Left Column: Blog Post Generator -->
    <div class="lg:col-span-1">
        <div class="bg-gray-50 p-4 rounded-lg shadow-inner">
            <h2 class="text-2xl font-semibold text-gray-800 border-b pb-2 mb-4">Blog Post Creator</h2>
            <form action="/generate_blog" method="POST">
                <label for="blog_prompt" class="block text-sm font-medium text-gray-700 mb-2">Enter a topic for a blog post:</label>
                <textarea id="blog_prompt" name="blog_prompt" rows="3" class="shadow-sm block w-full sm:text-sm border border-gray-300 rounded-md p-2" placeholder="e.g., 5 ways a VA can boost your productivity..."></textarea>
                <button type="submit" class="mt-4 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700">
                    Generate Blog & 5 Posts
                </button>
            </form>
        </div>
    </div>

    <!-- Right Column: Generated Blog Posts -->
    <div class="lg:col-span-2">
        <h2 class="text-2xl font-semibold text-gray-800 border-b pb-2 mb-4">Generated Blog Posts</h2>
        <div class="space-y-4">
            {% for blog in blog_posts %}
            <div class="bg-white p-4 rounded-lg shadow flex items-center justify-between">
                <div>
                    <h3 class="font-semibold text-lg text-gray-900">{{ blog.title }}</h3>
                    <p class="text-xs text-gray-400 mt-1">Created: {{ blog.created_at.strftime('%Y-%m-%d') }}</p>
                </div>
                <a href="{{ url_for('view_blog', blog_id=blog.id) }}" class="px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                    View
                </a>
            </div>
            {% else %}
            <p class="text-gray-500">No blog posts generated yet.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
